(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),s=(a(66),a(3)),c=a(4),i=a(6),u=a(5),m=a(7),d=a(18),h=a(57),g=a.n(h),f=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e){return t.service.post("/signup",{state:e}).then((function(e){return e.data}))},this.loggedin=function(e,a){return t.service.get("/loggedin/".concat(e,"/").concat(a)).then((function(e){return e.data}))},this.login=function(e,a,n,r){return t.service.post("/login",{username:e,password:a,day:n,year:r}).then((function(e){return e.data}))},this.create=function(e){return t.service.post("/log/create",{info:e}).then((function(e){return e.data}))},this.getDate=function(e,a){return t.service.get("/log/date/".concat(e,"/").concat(a)).then((function(e){return e.data}))},this.profile=function(){return t.service.get("/log/all/my-posts").then((function(e){return e.data}))},this.seeUser=function(e){return t.service.get("/log/all/".concat(e)).then((function(e){return e.data}))},this.changeInfo=function(e){return t.service.post("/change-info",{userInfo:e}).then((function(e){return e.data}))},this.changePass=function(e){return t.service.post("/change-password",{userInfo:e}).then((function(e){return e.data}))},this.deleteUser=function(e){return t.service.post("/delete-user",{confirmation:e}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout",{}).then((function(e){return e.data}))};var a=g.a.create({baseURL:"".concat("https://sunlog.herokuapp.com/api"),withCredentials:!0});this.service=a},p=a(15),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={message:null,user:"",username:"",password:""},a.service=new f,a.handleChange=function(e){e.preventDefault(),a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;if(t)if(n){var r=new Date,l=new Date(r.getFullYear(),0,0),o=r-l+60*(l.getTimezoneOffset()-r.getTimezoneOffset())*1e3,s=r.toString().split(" "),c=Math.floor(o/864e5),i=s[3];a.service.login(t,n,c,i).then((function(e){a.setState({username:"",password:"",message:e.message||null}),e.message||(localStorage.setItem("user",JSON.stringify(e)),a.props.logIt(e))})).catch((function(e){console.log(e),a.setState({message:"Incorrect Username or Password"})}))}else a.setState({message:"You must include a password"});else a.setState({message:"You must include a username"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"signup"},r.a.createElement("span",{className:"signup-header"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-piece login-form-piece"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"text",style:{fontSize:"1em",width:"55%"},name:"username",placeholder:"Your name...",onChange:this.handleChange})),r.a.createElement("div",{className:"form-piece login-form-piece"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{name:"password",style:{fontSize:"1em",width:"55%"},placeholder:"******",type:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"login-button"},r.a.createElement("button",{className:""},"Submit"))),r.a.createElement("b",{className:"signup-message"},this.state.message)),r.a.createElement("div",{className:"switch-button"}))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={message:null,user:"",username:"",password:"",email:"",phone:"",gender:""},a.service=new f,a.handleChange=function(e){e.preventDefault(),a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=t.gender;if(n)if(r)if(l){var o=a.state;a.service.signup(o).then((function(e){a.props.logIt(e)})).catch((function(e){a.setState({message:"Username already exists!"})}))}else a.setState({message:"You must include a gender"});else a.setState({message:"You must include a password"});else a.setState({message:"You must include a username"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"signup"},r.a.createElement("span",{className:"signup-header"},"Create an Account!"),r.a.createElement("form",{className:"signup-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-pieces"},r.a.createElement("div",{className:"form-piece"},r.a.createElement("label",{htmlFor:"name"},"Your Username:"),r.a.createElement("input",{name:"username",maxLength:"20",placeholder:"Your name...",autoComplete:"off",onChange:this.handleChange})),r.a.createElement("div",{className:"form-piece"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{name:"password",type:"password",placeholder:"Your password...",autoComplete:"off",onChange:this.handleChange})),r.a.createElement("div",{className:"form-piece"},r.a.createElement("label",{htmlFor:"email"},"Email: (optional)"),r.a.createElement("input",{name:"email",type:"email",autocomplete:"off",placeholder:"Your email...",onChange:this.handleChange})),r.a.createElement("div",{className:"form-piece"},r.a.createElement("label",{htmlFor:"phone"},"Phone: (optional)"),r.a.createElement("input",{name:"phone",autoComplete:"off",type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"867-5309",onChange:this.handleChange})),r.a.createElement("div",{className:"form-piece"},r.a.createElement("label",{htmlFor:"gender"},"What is your gender?"),r.a.createElement("select",{name:"gender",onChange:this.handleChange},r.a.createElement("option",{selected:!0,disabled:!0},"Choose:"),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"),r.a.createElement("option",{value:"nonbinary"},"Non-binary")))),r.a.createElement("div",{className:"signup-button"},r.a.createElement("button",{className:""},"Submit"))),r.a.createElement("b",{className:"signup-message"},this.state.message)),r.a.createElement("div",{className:"switch-button"}))}}]),t}(n.Component),y=a(8),b=a(9),w=a(2);function N(e){var t,a;switch(t=e.log.weatherIcon?"http://openweathermap.org/img/wn/".concat(e.log.weatherIcon.slice(0,-1),"d@2x.png"):"",e.log.creatorId.gender){case"male":a=w.e;break;case"female":a=w.i;break;default:a=w.b}var n=e.log.creatorId.username;return e.log.demo||(n=r.a.createElement(y.b,{to:"/view-profile/".concat(e.log.creatorId._id)},e.log.creatorId.username)),"This user has decided to keep their name private"!==e.log.creatorId.username&&e.id!==e.log.creatorId._id||(n=e.log.creatorId.username),r.a.createElement("div",{className:e.test?"mock-log":"log"},r.a.createElement("div",{className:"log-head "},r.a.createElement("span",null,r.a.createElement("h3",{className:"name-and-gender"},r.a.createElement("div",{className:"name-box"},e.id===e.log.creatorId._id?r.a.createElement("i",null,"~(You!)~"):n),r.a.createElement("div",{className:"gender"},r.a.createElement(b.a,{icon:a,size:"2x"})),r.a.createElement("div",{className:"weather-box"},r.a.createElement("span",null,r.a.createElement("img",{className:"weather-icon",src:t,alt:e.log.weatherType})),r.a.createElement("p",null," ",e.log.weatherType))),"This user has decided to keep their name private"!==e.log.creatorId.username&&e.log.hideCreator&&r.a.createElement("i",null,"You have hidden your name for this log"))),r.a.createElement("h2",null,e.log.county," County, ",e.log.state),r.a.createElement("div",{className:"mood-and-productivity"},r.a.createElement("h3",null,"Mood: ",r.a.createElement("p",null,e.log.mood)),r.a.createElement("h3",null,"Productivity: ",r.a.createElement("p",null,e.log.productivity))),r.a.createElement("h4",null,"Log: ",e.log.journal),"This log is set to private"!==e.log.journal&&e.log.privateJournal&&r.a.createElement("i",null,"You made this log private"))}a(50);var C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={date:new Date,message:"This is the Home Page",err:!1,signup:!1,testLog:{id:"1335",genderIcon:"female",weatherType:"Clear",weatherIcon:"01n",hideCreator:!1,state:"Washington",county:"King",mood:"4",productivity:"3",journal:"Overall, today felt like a good day. I was able to get most of what I wanted done. Enjoyed the bright skies!",privateJournal:!1,creatorId:{username:"Jane Doe",gender:"female",_id:null},demo:!0}},a.service=new f,a.checkIfLoggedIn=function(){a.service.loggedin().then((function(e){})).catch((function(e){return console.log(e)}))},a.logIt=function(e){a.props.getUser(e),a.props.history.push("/profile")},a.toggle=function(){a.setState((function(e){return{signup:!e.signup}}))},a.backToTop=function(){window.scrollTo(0,0)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){return this.props.err&&!this.state.err&&this.setState({message:"You already created a log today!",err:!0}),this.props.setError(null),r.a.createElement("div",null,"this.state.message")}},{key:"render",value:function(){var e,t;return e=this.state.signup?"Go back to Login":"or, Create an Account Now!",t=this.state.signup?"card flipped":"card",r.a.createElement("div",null,r.a.createElement("div",{className:"homepage-top"},r.a.createElement("div",{className:"homepage-greet"},r.a.createElement("h1",null,"SUNLOGS"),r.a.createElement("p",null,"How much does weather affect your life?")),r.a.createElement("div",{className:"signup-login-container"},r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:t},r.a.createElement("div",{className:"front card-div"}," ",r.a.createElement(E,{logIt:this.logIt})),r.a.createElement("div",{className:"back card-div"},r.a.createElement(v,{logIt:this.logIt})))),r.a.createElement("button",{className:"create-button",onClick:this.toggle},e))),r.a.createElement("div",{className:"homepage-separation"}),r.a.createElement("div",{className:"homepage-sad"},r.a.createElement("h2",null,"Did you know:"),r.a.createElement("h4",null,"Over 3 MILLION Americans suffer from Seasonal Affective Disorder, or SAD, every year"),r.a.createElement("p",null,"SAD can affect nearly every aspect of a person's life, from work, to relationships, to personal health. ",r.a.createElement("br",null),"It was this reason that Sunlogs was created")),r.a.createElement("div",{className:"homepage-sunlog"},r.a.createElement("div",{className:"sunlog-description"},r.a.createElement("h2",null,"What is Sunlogs?"),r.a.createElement("p",null,"Sunlogs is a way to record your daily ",r.a.createElement("strong",null,"Mood")," and how ",r.a.createElement("strong",null,"Productive")," you thought you were."," "),r.a.createElement("p",null,"You can also create a journal for any feelings you might want to jot down.")," ",r.a.createElement("p",null,"These logs are then tied to the weather in your county, and will compare correlate mood respectively")),r.a.createElement("div",{className:"sunlog-example"},r.a.createElement(N,{log:this.state.testLog,test:!0}),r.a.createElement("h4",null,"(Your logs can be as private as you want them to be)"))),r.a.createElement("div",null,r.a.createElement("h1",{className:"sunlog-create"},"CREATE AN ACCOUNT AND SEE!"),r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,r.a.createElement("button",{className:"footer-button",onClick:this.backToTop},"Back to Top",r.a.createElement(b.a,{icon:w.d,size:"2x"}))),r.a.createElement("div",{className:"footer-contact"},r.a.createElement("p",null,"Created by Mike Troianello"),r.a.createElement("p",null,"Contact me at"," ",r.a.createElement("a",{href:"mailto:mike@troianello.co"}," mike@troianello.co")),r.a.createElement("p",null,"Visit my personal website"," ",r.a.createElement("a",{href:"http://troianello.co",target:"_blank",rel:"noopener noreferrer"},"troianello.co"))),r.a.createElement("div",{className:"footer-logo"},r.a.createElement("h1",{className:"mt-logo"},"Mt")))))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).service=new f,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.logout().then((function(t){e.props.logout(),e.props.history.push("/")}))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={message:null,hideProfile:!1,privateJournalDefault:!1,hideCreatorDefault:!1,oldPhone:null,phone:null,oldEmail:null,email:null,oldPass:null,newPass:null,confirmDelete:null,deletePassword:null,id:null},a.service=new f,a.toggle=function(e){var t=e.target.name;a.setState((function(e){return Object(p.a)({},t,!e[t])}))},a.handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.changeInfo=function(){var e=a.state;a.service.changeInfo(e).then((function(e){a.props.isLoggedIn(e),a.props.history.push("/profile")}))},a.changePass=function(){a.service.changePass(a.state).then((function(e){a.props.isLoggedIn(e),a.props.history.push("/")}))},a.deleteUser=function(){a.service.deleteUser(a.state.confirmDelete).then((function(e){a.props.history.push("/")}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.loggedInUser){var t=this.props.loggedInUser,a=t.email,n=t.hideCreatorDefault,r=t.hideProfile,l=t.phone,o=t.privateJournalDefault,s=t.id;this.setState({hideProfile:r,privateJournalDefault:o,hideCreatorDefault:n,oldPhone:l,oldEmail:a,id:s})}else this.service.loggedin().then((function(t){e.setState({hideProfile:t.hideProfile,privateJournalDefault:t.privateJournalDefault,hideCreatorDefault:t.hideCreatorDefault,oldPhone:t.phone,oldEmail:t.email,id:t.id})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"settings-top"},r.a.createElement("div",{className:"settings"},r.a.createElement("h1",null,"Your Settings"),r.a.createElement("i",null,"Note: pressing any of the save buttons will update all fields you have changed. ",r.a.createElement("br",null),"They are placed in each section for convenience"),r.a.createElement("div",{className:"settings-change-preferences"},r.a.createElement("h1",null,"Preferences"),r.a.createElement("div",null,r.a.createElement("h3",null,"Hide your profile"),r.a.createElement("p",null,"This makes sure people will not be able to view your profile."),r.a.createElement("p",{className:"settings-aside"},"(They still can see your name on your logs, if you choose to not hide them)"),r.a.createElement("h3",null,this.state.hideProfile),r.a.createElement("h4",{className:this.state.hideProfile?"red":"green"},"You currently"," ",!0===this.state.hideProfile&&r.a.createElement("span",null,"DO NOT "),"allow others to view your profile"),r.a.createElement("button",{className:"settings-change-preferences-button",name:"hideProfile",onClick:this.toggle},this.state.hideProfile?"Show":"Hide"," profile")),r.a.createElement("div",null,r.a.createElement("h3",null,"Make Journals Private by Default"),r.a.createElement("h4",{className:this.state.privateJournalDefault?"red":"green"},"Your Journals are"," ",this.state.privateJournalDefault?"HIDDEN":"shown"," by default"),r.a.createElement("button",{className:"settings-change-preferences-button",name:"privateJournalDefault",onClick:this.toggle},this.state.privateJournalDefault?"Show":"Hide"," by Default")),r.a.createElement("div",null,r.a.createElement("h3",null,"Hide your name by Default"),r.a.createElement("h4",{className:this.state.hideCreatorDefault?"red":"green"},"Your Journals are"," ",this.state.hideCreatorDefault?"HIDDEN":"shown"," by default"),r.a.createElement("button",{className:"settings-change-preferences-button",name:"hideCreatorDefault",onClick:this.toggle},this.state.hideCreatorDefault?"Show":"Hide"," by Default")),r.a.createElement("button",{className:"settings-change-button",onClick:function(){return e.changeInfo()}},"Change Preferences")),r.a.createElement("div",{className:"settings-change-info"},r.a.createElement("h1",null,"Change your Account Info"),r.a.createElement("div",null,r.a.createElement("h3",null,"Your old phone number: ",this.state.oldPhone),r.a.createElement("span",null,"Change Phone #"),r.a.createElement("input",{type:"tel",autocomplete:"off",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",name:"phone",placeholder:"+3(141)592-6535",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("h3",null,"Your old email: ",this.state.oldEmail),r.a.createElement("span",null,"Change email"),r.a.createElement("input",{type:"email",name:"email",autocomplete:"off",placeholder:"name@email.com",onChange:this.handleChange})),r.a.createElement("button",{className:"settings-change-button",onClick:function(){return e.changeInfo()}},"Change Info"),r.a.createElement("div",{className:"settings-change-password"},r.a.createElement("h3",null,"Change Password"),r.a.createElement("span",null,"New Password"),r.a.createElement("input",{type:"password",name:"oldPass",autocomplete:"off",placeholder:"********",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("span",null,"Confirm Password"),r.a.createElement("input",{type:"password",name:"newPass",autocomplete:"off",placeholder:"********",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"settings-change-button",onClick:function(){return e.changeInfo()}},"Change Password"))),r.a.createElement("div",{className:"settings-delete"},r.a.createElement("h1",null,"Delete Profile"),r.a.createElement("h4",null,r.a.createElement("span",{className:"red"},"WARNING:")," If you delete your profile, this cannot be undone!"),r.a.createElement("p",{className:"settings-delete-warning"},r.a.createElement("i",null,"Note: ",r.a.createElement("br",null),"if you delete your account, your logs will stay intact,",r.a.createElement("br",null),"for mood aggregation purposes. ",r.a.createElement("br",null),"All of your journals will be erased, as will the names of the logs."," ")),r.a.createElement("span",null,r.a.createElement("b",null,"Type in your Usename Before Deletion")),r.a.createElement("br",null),r.a.createElement("input",{name:"confirmDelete",autocomplete:"off",placeholder:"make sure this is what you want...",style:{fontSize:"1em",width:"250px"},onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"delete",onClick:this.deleteUser},"DELETE IT!"))))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={mood:null,moodEmoji:null,productivity:null,journal:null,privateJournal:!1,hideCreator:!1,latitude:null,longitude:null,err:null,message:null,messageCss:"red",day:null,year:null},a.service=new f,a.handleChange=function(e){e.target.value&&(e.target.value=e.target.value.replace(/[\r\n\v]+/g,"")),a.setState(Object(p.a)({},e.target.id,e.target.innerText||e.target.value))},a.setMood=function(e){var t;switch(e){case 1:t=r.a.createElement(b.a,{icon:w.g});break;case 2:t=r.a.createElement(b.a,{icon:w.a});break;case 3:t=r.a.createElement(b.a,{icon:w.f});break;case 4:t=r.a.createElement(b.a,{icon:w.h});break;default:t=r.a.createElement(b.a,{icon:w.c})}return a.setState({mood:e,moodEmoji:t})},a.handleSubmit=function(e){if(e.preventDefault(),a.props.createdToday)a.setState({err:!0,message:"You already created a log today!",messageCss:"red"}),setTimeout((function(){}),1e3);else if(a.state.mood)if(a.state.productivity){var t=a.state;a.setState({message:"Submitting your log",messageCss:"black"}),a.service.create(t).then((function(e){console.log(e),a.props.logCreated(),a.props.history.push("/view")})).catch((function(e){console.log(e),a.setState({message:"It broke at geolocation"})}))}else a.setState({message:"You didn't select your productivity",messageCss:"red"});else a.setState({message:"You didn't select your mood",messageCss:"red"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.props.user){var e=new Date,t=new Date(e.getFullYear(),0,0),a=e-t+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3,n=e.toString().split(" "),r=Math.floor(a/864e5),l=Number(n[3]);this.setState({privateJournal:this.props.user.privateJournalDefault,hideCreator:this.props.user.hideCreatorDefault,dayOfYear:r,year:l,dayOfWeek:n[0],dayOfMonth:Number(n[2]),month:n[1]})}}},{key:"render",value:function(){var e=this;return this.state.err?r.a.createElement(d.a,{to:"/view"}):("geolocation"in navigator?(console.log("Geolocation is available"),navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,n=t.coords.longitude;e.setState({latitude:a,longitude:n})}))):console.log("geolocation IS NOT available"),r.a.createElement("div",{className:"create-log-page"},r.a.createElement("div",{className:"create-log"},r.a.createElement("h1",null,"Create a Mood Log"),r.a.createElement("div",{className:"create-mood-box"},r.a.createElement("label",{htmlFor:"mood"},"What is your mood? ",this.state.moodEmoji),r.a.createElement("br",null),r.a.createElement("div",{className:"one-through-five"},r.a.createElement(b.a,{id:"mood",className:"emotion",icon:w.g,size:"2x",onClick:function(){return e.setMood(1)}}),r.a.createElement(b.a,{id:"mood",icon:w.a,size:"2x",onClick:function(){return e.setMood(2)}}),r.a.createElement(b.a,{id:"mood",icon:w.f,size:"2x",onClick:function(){return e.setMood(3)}}),r.a.createElement(b.a,{id:"mood",icon:w.h,size:"2x",onClick:function(){return e.setMood(4)}}),r.a.createElement(b.a,{id:"mood",icon:w.c,size:"2x",onClick:function(){return e.setMood(5)}}))),r.a.createElement("div",{className:"create-productivity-box"},r.a.createElement("label",{htmlFor:"productivity"},"How productive do you think you were today?"," ",r.a.createElement("span",{className:"one-through-five-box"},r.a.createElement("b",null,this.state.productivity))),r.a.createElement("br",null),r.a.createElement("div",{className:"one-through-five",onClick:this.handleChange},r.a.createElement("span",{id:"productivity"},"1"),r.a.createElement("span",{id:"productivity"},"2"),r.a.createElement("span",{id:"productivity"},"3"),r.a.createElement("span",{id:"productivity"},"4"),r.a.createElement("span",{id:"productivity"},"5"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"journal"},"What were some of your thoughts about today?"),r.a.createElement("textarea",{type:"textbox",name:"journal",id:"journal",rows:"6",cols:"48",autocomplete:"off",maxLength:"250",placeholder:"max length 250 characters",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"privateJournal"},"Make this a private Log:"),r.a.createElement("input",{type:"checkbox",name:"privateJournal",checked:this.state.privateJournal,onChange:function(){e.setState({privateJournal:!e.state.privateJournal})}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"hideCreator"},"Hide your status as creator:"),r.a.createElement("input",{type:"checkbox",name:"hideCreator",checked:this.state.hideCreator,onChange:function(){e.setState({hideCreator:!e.state.hideCreator})}}),r.a.createElement("p",null,"(Note: people will still see the contents of this log, they just will be unable to know you created it)")),r.a.createElement("button",{className:"create-log-button",onClick:this.handleSubmit},"Log It"),r.a.createElement("br",null),r.a.createElement("b",{className:this.state.messageCss},this.state.message))))}}]),t}(n.Component),O=a(38),j=a(60),T=a.n(j);function D(e){return r.a.createElement("div",null,r.a.createElement("select",{name:"state",onChange:e.filter},r.a.createElement("option",{selected:!0},"Filter by State:"),e.states.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}function L(e){return r.a.createElement("div",null,r.a.createElement("select",{name:"county",onChange:e.filter},r.a.createElement("option",{selected:!0},"Filter by County:"),e.counties.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}function x(e){var t=function(e,t){return e+t},a=[],n=[];return e.logs.length>0?(e.logs.forEach((function(e){a.push(e.mood),n.push(e.productivity)})),a=Math.round(a.reduce(t)/e.logs.length*100)/100,n=Math.round(n.reduce(t)/e.logs.length*100)/100):(a=0,n=0),r.a.createElement("div",null,r.a.createElement("span",{className:"weather-average-header"},r.a.createElement("span",null,e.weather,":")," ",r.a.createElement("span",null,a)," ",r.a.createElement("span",null,n)))}function M(e){var t=[],a=[],n=[],l=[],o=[];return e.logs.map((function(e){switch(e.weatherType){case"Clear":t.push(e);break;case"Clouds":case"Mist":a.push(e);break;case"Snow":l.push(e);break;case"Rain":case"Drizzle":case"Thunderstorm":n.push(e);break;default:o.push(e)}return e})),r.a.createElement("div",{className:"weather-audit"},r.a.createElement("span",{className:"header"},r.a.createElement("span",null,"Weather"),r.a.createElement("span",null,"Mood Average"),r.a.createElement("span",{className:"header-productivity"},"Productivity Average")),r.a.createElement("div",{className:"weather-avg"},r.a.createElement(x,{weather:"Clear",logs:t}),r.a.createElement(x,{weather:"Clouds",logs:a}),r.a.createElement(x,{weather:"Rain",logs:n}),r.a.createElement(x,{weather:"Snow",logs:l})))}var Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={today:new Date,date:new Date,logs:null,filteredLogs:null,filteredLogsCopy:null,genderSearchMessage:null,yours:!1,id:null,day:null,year:null,states:[],counties:[],state:void 0,stateFiltered:!1,county:void 0},a.service=new f,a.sanitizeDate=function(e,t){var n=new Date(e.getFullYear(),0,0),r=e-n+60*(n.getTimezoneOffset()-e.getTimezoneOffset())*1e3,l=Math.floor(r/864e5),o=e.toString().split(" ")[3];a.service.getDate(o,l).then((function(e){var t=e.specificDay.map((function(e){return e.state}));a.setState({logs:e.specificDay,filteredLogs:e.specificDay,filteredLogsCopy:e.specificDay,genderSearchMessage:null,yours:e.yours,id:e.id,states:Object(O.a)(new Set(t)),counties:[]})})).catch((function(e){return console.log(e)}))},a.filterByState=function(){var e=a.state.logs.filter((function(e){return e.state===a.state.state})),t=new Set;e.map((function(e){return t.add(e.county)})),a.setState({filteredLogs:e,counties:Object(O.a)(t),genderSearchMessage:null})},a.filterByCounty=function(){var e=a.state.logs.filter((function(e){return e.county===a.state.county}));a.setState({filteredLogs:e,genderSearchMessage:null})},a.filterByGender=function(e){var t=a.state.filteredLogsCopy.filter((function(t){return t.creatorId.gender===e.target.value}));a.setState({filteredLogs:t,genderSearchMessage:"Showing all ".concat(e.target.value," logs")})},a.showLogs=function(){return a.state.filteredLogs.length<1&&a.state.today===new Date?r.a.createElement("div",null,"No one has created a log today."," ",r.a.createElement(y.b,{to:"/create"},"Why not be the first?")):a.state.filteredLogs.length<1?r.a.createElement("div",null,r.a.createElement("h2",null,"There were no logs recorded on this day...")):a.state.filteredLogs.map((function(e,t){var n,l;n=e.weatherIcon?"https://openweathermap.org/img/wn/".concat(e.weatherIcon.slice(0,-1),"d@2x.png"):"";var o=r.a.createElement(y.b,{to:"/view-profile/".concat(e.creatorId._id)},e.creatorId.username);switch(("This user has decided to keep their name private"===e.creatorId.username||a.state.id===e.creatorId._id||"Deleted"===e.creatorId.username||e.creatorId.hideProfile)&&(o=e.creatorId.username),e.creatorId.gender){case"male":l=w.e;break;case"female":l=w.i;break;default:l=w.b}return r.a.createElement("div",{className:"log",key:t},r.a.createElement("div",{className:"log-head "},r.a.createElement("span",null,r.a.createElement("h3",{className:"name-and-gender"},r.a.createElement("div",{className:"name-box"},a.state.id===e.creatorId._id?r.a.createElement("i",null,"~(You!)~"):o),r.a.createElement("div",{className:"gender"},r.a.createElement(b.a,{icon:l,size:"2x"})),r.a.createElement("div",{className:"weather-box"},r.a.createElement("span",null,r.a.createElement("img",{className:"weather-icon",src:n,alt:e.weatherType})),r.a.createElement("p",null," ",e.weatherType))),"This user has decided to keep their name private"!==e.creatorId.username&&e.hideCreator&&r.a.createElement("i",null,"You have hidden your name for this log"))),r.a.createElement("h2",null,e.county," County, ",e.state),r.a.createElement("div",{className:"mood-and-productivity"},r.a.createElement("h3",null,"Mood: ",r.a.createElement("p",null,e.mood)),r.a.createElement("h3",null,"Productivity: ",r.a.createElement("p",null,e.productivity))),r.a.createElement("h4",null,"Log: ",e.journal),"This log is set to private"!==e.journal&&e.privateJournal&&r.a.createElement("i",null,"You made this log private"))}))},a.onChange=function(e){e&&a.setState({date:e},a.sanitizeDate(e,"NEW DATE"))},a.filterState=function(e){"Filter by State:"!==e.target.value&&a.setState(Object(p.a)({},e.target.name,e.target.value),(function(){a.filterByState()}))},a.filterCounty=function(e){"Filter by County:"!==e.target.value&&a.setState(Object(p.a)({},e.target.name,e.target.value),(function(){a.filterByCounty()}))},a.weatherAudit=function(){return r.a.createElement(M,{logs:a.state.filteredLogs})},a.defaultLogs=function(){a.setState({states:[],counties:[],state:void 0,stateFiltered:!1,county:void 0}),a.sanitizeDate(a.state.today)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.sanitizeDate(this.state.today)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"view-header top-push"},r.a.createElement("div",null,r.a.createElement("h1",null,"THESE ARE TODAYS LOGS:"),!this.props.createdToday&&this.props.loggedInUser&&r.a.createElement("div",{className:"create-log-link"},"You haven't created a log today."," ",r.a.createElement(y.b,{to:"/create"},"Make one now!"))),this.state.filteredLogs&&this.weatherAudit()),r.a.createElement("div",{className:"filter-box"},r.a.createElement("div",{className:"gender-filter"},"Filter By Gender:",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.filterByGender,value:"male"},"male"),r.a.createElement("button",{onClick:this.filterByGender,value:"female"},"female"),r.a.createElement("button",{onClick:this.filterByGender,value:"nonbinary"},"non-binary"),r.a.createElement("br",null),this.state.genderSearchMessage),r.a.createElement("div",null,"Search Logs By Day:",r.a.createElement("br",null),r.a.createElement(T.a,{onChange:this.onChange,value:this.state.date})),r.a.createElement("div",null,"Filter By State:",r.a.createElement("br",null),r.a.createElement(D,{states:this.state.states,filter:this.filterState})),r.a.createElement("div",null,"Filter By County:",r.a.createElement("br",null),r.a.createElement(L,{counties:this.state.counties,filter:this.filterCounty})),r.a.createElement("div",null,r.a.createElement("button",{className:"view-default-logs",onClick:this.defaultLogs},"Back to Default"))),r.a.createElement("div",{className:"log-box"},this.state.filteredLogs&&this.showLogs()))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,rawLogs:null,logs:null,moodAvg:[],mood:0,notToday:!1,block:!1,oldestFirst:!1},a.service=new f,a.makeTheLogs=function(e){var t=new Date,n=new Date(t.getFullYear(),0,0),l=t-n+60*(n.getTimezoneOffset()-t.getTimezoneOffset())*1e3,o=t.toString().split(" "),s=Math.floor(l/864e5),c=o[3];if(e.length<1)a.setState({logs:r.a.createElement("div",{className:"no-log-created"},"You haven't created a log yet! ",r.a.createElement("br",null),r.a.createElement(y.b,{to:"/create"},"Make one now!")),block:!0});else{var i=[],u=e.map((function(e,t){var a;return i.push(e.mood),a=e.weatherIcon?"http://openweathermap.org/img/wn/".concat(e.weatherIcon.slice(0,-1),"d@2x.png"):"",r.a.createElement("div",{key:t,className:"log"},r.a.createElement("div",{className:"profile-log-head"},r.a.createElement("div",null,r.a.createElement("span",{className:"profile-date"},r.a.createElement("span",null,e.month)," ",r.a.createElement("span",null,e.dayOfMonth),", ",r.a.createElement("span",null,e.year)),r.a.createElement("h2",null,e.county," County, ",e.state)),r.a.createElement("div",{className:"weather-box weather-box-profile"},r.a.createElement("span",null,r.a.createElement("img",{className:"weather-icon",src:a,alt:e.weatherType})),r.a.createElement("p",null," ",e.weatherType))),r.a.createElement("div",{className:"mood-and-productivity"},r.a.createElement("h3",null,"Mood: ",r.a.createElement("p",null,e.mood)),r.a.createElement("h3",null,"Productivity: ",r.a.createElement("p",null,e.productivity))),r.a.createElement("h3",null,"Log: ",e.journal),e.hideCreator&&r.a.createElement("i",null,"You have hidden your name for this log"),r.a.createElement("br",null),e.privateJournal&&r.a.createElement("i",null,"You have hidden this journal from public viewing"))})),m=Math.round(i.reduce((function(e,t){return e+t}))/i.length*100)/100;a.setState({rawLogs:e,logs:u,mood:m}),e.filter((function(e){return e.dayOfYear===s&&e.year===Number(c)})).length<1&&a.setState({notToday:!0})}},a.sortByAge=function(){var e;a.state.oldestFirst?(e=a.state.rawLogs.sort((function(e,t){return e.year>t.year?1:-1})),e=a.state.rawLogs.sort((function(e,t){return e.dayOfYear>t.dayOfYear?1:-1}))):(e=a.state.rawLogs.sort((function(e,t){return e.year<t.year?1:-1})),e=a.state.rawLogs.sort((function(e,t){return e.dayOfYear<t.dayOfYear?1:-1}))),a.setState((function(e){return{oldestFirst:!e.oldestFirst}}),a.makeTheLogs(e))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.profile().then((function(t){e.makeTheLogs(t)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-push"},r.a.createElement("h1",null,"Your Profile Page"),this.state.notToday&&r.a.createElement("h1",null,r.a.createElement("b",null,"You have not created a mood log today!"," ",r.a.createElement(y.b,{to:"/create"},"Create one now!"))),r.a.createElement("div",{className:"profile-mood-box"},r.a.createElement("h2",null,"Overall Happiness: ",this.state.mood),this.state.logs&&!this.state.block&&r.a.createElement(M,{logs:this.state.rawLogs})),r.a.createElement("div",{className:"sort-by-age-box"},this.state.rawLogs&&r.a.createElement("button",{className:"sort-by-age",onClick:this.sortByAge},"Show ",this.state.oldestFirst?"oldest":"newest"," first")),r.a.createElement("br",null),r.a.createElement("div",{className:"log-box"},this.state.logs))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={user:null,rawLogs:null,logs:null,moodAvg:[],mood:0,name:null,oldestFirst:!1},a.service=new f,a.makeTheLogs=function(e){if(e.length<1)a.setState({logs:r.a.createElement("div",null,"They haven't created any logs...")});else{var t,n,l=[],o=e.map((function(e,a){switch(e.creatorId.gender){case"male":n=w.e;break;case"female":n=w.i;break;default:n=w.b}var o;return t||(t=e.creatorId.username),l.push(e.mood),o=e.weatherIcon?"http://openweathermap.org/img/wn/".concat(e.weatherIcon.slice(0,-1),"d@2x.png"):"",r.a.createElement("div",{key:a,className:"log"},r.a.createElement("div",{className:"profile-log-head"},r.a.createElement("div",null,r.a.createElement("span",{className:"profile-date"},r.a.createElement("span",null,e.month)," ",r.a.createElement("span",null,e.dayOfMonth),", ",r.a.createElement("span",null,e.year)),r.a.createElement("h2",null,e.county,", ",e.state)),r.a.createElement("div",{className:"weather-box weather-box-profile"},r.a.createElement("span",null,r.a.createElement("img",{className:"weather-icon",src:o,alt:e.weatherType})),r.a.createElement("p",null," ",e.weatherType))),r.a.createElement("div",{className:"mood-and-productivity"},r.a.createElement("h3",null,"Mood: ",r.a.createElement("p",null,e.mood)),r.a.createElement("h3",null,"Productivity: ",r.a.createElement("p",null,e.productivity))),r.a.createElement("h3",null,"Log: ",e.journal))})),s=Math.round(l.reduce((function(e,t){return e+t}))/l.length*100)/100;a.setState({rawLogs:e,logs:o,mood:s,name:t,gender:n})}},a.sortByAge=function(){var e;a.state.oldestFirst?(e=a.state.rawLogs.sort((function(e,t){return e.year>t.year?1:-1})),e=a.state.rawLogs.sort((function(e,t){return e.dayOfYear>t.dayOfYear?1:-1}))):(e=a.state.rawLogs.sort((function(e,t){return e.year<t.year?1:-1})),e=a.state.rawLogs.sort((function(e,t){return e.dayOfYear<t.dayOfYear?1:-1}))),a.setState((function(e){return{oldestFirst:!e.oldestFirst}}),a.makeTheLogs(e))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.seeUser(this.props.match.params.id).then((function(t){e.makeTheLogs(t)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"top-push"},r.a.createElement("h1",null,"This is ",this.state.name,"'s page"),r.a.createElement("div",{className:"profile-mood-box"},r.a.createElement("h2",{className:"view-profile-overall-happiness"},this.state.name,"'s Overall Happiness: ",this.state.mood),r.a.createElement(b.a,{icon:this.state.gender,size:"3x"}),this.state.logs&&r.a.createElement(M,{logs:this.state.rawLogs})),r.a.createElement("div",{className:"sort-by-age-box"},r.a.createElement("button",{className:"sort-by-age",onClick:this.sortByAge},"Show ",this.state.oldestFirst?"oldest":"newest"," first")),r.a.createElement("br",null),r.a.createElement("div",{className:"log-box"},this.state.logs))}}]),t}(n.Component);a(118);function A(e){return r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",{className:"logged-in-user"},e.info.message),r.a.createElement("div",{className:"nav-links"},!e.info.loggedInUser&&r.a.createElement("div",{className:"yeet"},r.a.createElement(y.b,{to:"/"},"Home")),e.info.loggedInUser&&r.a.createElement("div",null,r.a.createElement(y.b,{to:"/profile"},"Profile")),e.info.loggedInUser&&!e.info.createdLogToday&&r.a.createElement("div",null,r.a.createElement(y.b,{to:"/create"},"Create")),r.a.createElement("div",null,r.a.createElement(y.b,{to:"/view"},"View")),e.info.loggedInUser&&r.a.createElement("div",null,r.a.createElement(y.b,{to:"/settings"},"Settings")),e.info.loggedInUser&&r.a.createElement(y.b,{to:"/logout"},"Logout")))}a(119);var F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loggedInUser:null,message:"Not logged in",createdLogToday:!1,errMessage:null},a.service=new f,a.testIt=function(e){return console.log("TESTHING THING"),"string"===typeof e},a.setNewState=function(e){a.setState({loggedInUser:e})},a.isLoggedIn=function(){var e=new Date,t=new Date(e.getFullYear(),0,0),n=e-t+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3,r=e.toString().split(" "),l=Math.floor(n/864e5),o=Number(r[3]);console.log("isLoggedIn was just called"),a.service.loggedin(l,o).then((function(e){a.setState({loggedInUser:e,message:"Hello, ".concat(e.username,"!"),createdLogToday:e.createdToday},(function(){return console.log("THE NEW STATE",a.state)}))})).catch((function(e){a.setState({loggedInUser:!1})}))},a.setUser=function(){var e=JSON.parse(localStorage.getItem("user"));a.setState({username:e.username,message:"Hello ".concat(e.username)})},a.setError=function(e){a.setState({errMessage:e})},a.logCreated=function(){console.log("logCreated has been called"),a.setState({createdLogToday:!0})},a.logout=function(){a.setState({loggedInUser:null,message:"Have a great day!"}),localStorage.removeItem("user")},a.getTheUser=function(e){console.log("getTheUser was called"),a.setState({loggedInUser:e,message:"Hello, ".concat(e.username,"!"),createdLogToday:e.createdToday},(function(){console.log("NEW STATE",a.state)}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.loggedInUser||this.isLoggedIn()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(A,{info:this.state,logout:this.logout,history:this.history})),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(C,Object.assign({},t,{err:e.state.errMessage,setError:e.setError,getUser:e.getTheUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(v,Object.assign({},t,{testIt:e.testIt,getUser:e.getTheUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(E,Object.assign({},t,{testIt:e.testIt,getUser:e.getTheUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(U,Object.assign({},t,{user:e.state.loggedInUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/logout",render:function(t){return r.a.createElement(S,Object.assign({},t,{logout:e.logout,user:e.state.loggedInUser}))}}),r.a.createElement(d.b,{exact:!0,path:"/create",render:function(t){return r.a.createElement(I,Object.assign({},t,{logCreated:e.logCreated,user:e.state.loggedInUser,createdToday:e.state.createdLogToday,setError:e.setError,testIt:e.testIt}))}}),r.a.createElement(d.b,{path:"/view",render:function(t){return r.a.createElement(Y,Object.assign({},t,{createdToday:e.state.createdLogToday,loggedInUser:e.state.loggedInUser}))}}),r.a.createElement(d.b,{path:"/settings",render:function(t){return r.a.createElement(k,Object.assign({},t,{loggedInUser:e.state.loggedInUser,isLoggedIn:e.isLoggedIn}))}}),r.a.createElement(d.b,{path:"/view-profile/:id",render:function(t){return r.a.createElement(P,Object.assign({},t,{setUser:e.setUser}))}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y.a,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e,t,a){},61:function(e,t,a){e.exports=a(120)},66:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.a0180515.chunk.js.map